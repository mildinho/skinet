https://github.com/TryCatchLearn/skinet-2024/tree/main
// This file is part of the skinet-2024 repository.

// Strip de Pagamento ( utilizando neste aplicativo )
www.stripe.com

Para subir o docker na mao
 docker compose up
 {
   "email": "fer@uol.com.br",
  "password": "@#$789AAbb__"
  }
  {
  fer@uol.com
  @#$789AAbb__
  }


// SCRIP PARA ALIMENTAR A TABELA PRODUTO - EXPORTAR COMO JSON
SELECT /*TO_NUMBER(IDPARCEIRO) AS  FABRICANTEID, */
FLOOR(DBMS_RANDOM.VALUE(1, 180)) AS FABRICANTEID,
REFX AS REFERENCIA, CDBAR AS CODIGOBARRA01,
CDBAR2 AS CODIGOBARRA02, DESCR AS DESCRICAO, NRORIG AS NUMERO_ORIGINAL,
CONVERSAO, 
NRFABR AS numero_fabrica
FROM STQ
WHERE 
IDPARCEIRO <> '0000000400' AND
ROWNUM <= 10000 ;


// SCRIP PARA ALIMENTAR A TABELA FABRINCATE  - EXPORTAR COMO JSON
SELECT IDPARCEIRO AS id_legado, 
NOME AS RAZAO_SOCIAL, 
NOME_ABREV AS FANTASIA,
LIMPASTR(CGC) AS CNPJ_CPF
FROM FORNEC WHERE 
IDPARCEIRO IN  
(
    SELECT DISTINCT IDPARCEIRO FROM STQ WHERE IDPARCEIRO != '0000000400'
)
;


QUANDO FOR EXPORTAR OS DADOS DO PREÇO
--- alter session set NLS_NUMERIC_CHARACTERS = '.,';

// SCRIP PARA ALIMENTAR A TABELA SAVFABRINCATE  - EXPORTAR COMO JSON
// SCRIP PARA ALIMENTAR A TABELA SAVFABRINCATE  - EXPORTAR COMO JSON
SELECT 
CASE 
    WHEN  FILIAL = '00' THEN 2
    WHEN  FILIAL = 'BH' THEN 16
END AS EMPRESAID, 
REFX AS REFERENCIA, UNID AS UNIDADE_MEDIDA, CLASSFISC AS NCM,
MULTI AS MULTIPLO_VENDA, PVENDA AS BASE_VENDA,
POFERT AS BASE_OFERTA, PVATACADO AS BASE_ATACADO,
SALDO AS SALDO_DISPONIVEL,
PULTREP AS BASE_CUSTO, 
PMEDIO AS BASE_MEDIO
from vw_stq_geral
WHERE 
FILIAL IN ('00', 'BH') and
REFX IN 
( SELECT REFX  FROM STQ WHERE  IDPARCEIRO <> '0000000400' AND ROWNUM <= 10000 )
;
